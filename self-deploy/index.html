
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../technologies-used/">
      
      
        <link rel="next" href="../technologies-used/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.0">
    
    
      
        <title>Self deployment - LogLink documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f79797b0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#self-deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LogLink documentation" class="md-header__button md-logo" aria-label="LogLink documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LogLink documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Self deployment
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/hankhank10/loglink-server" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LogLink documentation" class="md-nav__button md-logo" aria-label="LogLink documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LogLink documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hankhank10/loglink-server" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction to LogLink
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../security-notice/" class="md-nav__link">
        An important security notice
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Quickstart Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quickstart Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Quickstart Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../telegram-quickstart/" class="md-nav__link">
        Telegram Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup-plugin/" class="md-nav__link">
        Download and configure plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../image-upload/" class="md-nav__link">
        Enabling image uploads
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Self Deployment Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Self Deployment Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Self Deployment Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../technologies-used/" class="md-nav__link">
        Tech stack intro
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Self deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Self deployment
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    What you will need
  </a>
  
    <nav class="md-nav" aria-label="What you will need">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware" class="md-nav__link">
    Hardware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-registered-domain" class="md-nav__link">
    A registered domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-the-server" class="md-nav__link">
    Setting up the server
  </a>
  
    <nav class="md-nav" aria-label="Setting up the server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-the-server-repo" class="md-nav__link">
    Clone the server repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-required-python-packages" class="md-nav__link">
    Install the required Python packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-your-env-file" class="md-nav__link">
    Set up your .env file
  </a>
  
    <nav class="md-nav" aria-label="Set up your .env file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-required" class="md-nav__link">
    Database (required)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentry-credentials-optional" class="md-nav__link">
    Sentry credentials (optional)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#admin-credentials-required" class="md-nav__link">
    Admin credentials (required)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telegram-credentials-required" class="md-nav__link">
    Telegram credentials (required)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-the-database" class="md-nav__link">
    Set up the database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-server" class="md-nav__link">
    Run the server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    Deploy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-the-plugin" class="md-nav__link">
    Setting up the plugin
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../technologies-used/" class="md-nav__link">
        How to contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Development roadmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelogs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    What you will need
  </a>
  
    <nav class="md-nav" aria-label="What you will need">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware" class="md-nav__link">
    Hardware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-registered-domain" class="md-nav__link">
    A registered domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-the-server" class="md-nav__link">
    Setting up the server
  </a>
  
    <nav class="md-nav" aria-label="Setting up the server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-the-server-repo" class="md-nav__link">
    Clone the server repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-required-python-packages" class="md-nav__link">
    Install the required Python packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-your-env-file" class="md-nav__link">
    Set up your .env file
  </a>
  
    <nav class="md-nav" aria-label="Set up your .env file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-required" class="md-nav__link">
    Database (required)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentry-credentials-optional" class="md-nav__link">
    Sentry credentials (optional)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#admin-credentials-required" class="md-nav__link">
    Admin credentials (required)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telegram-credentials-required" class="md-nav__link">
    Telegram credentials (required)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-the-database" class="md-nav__link">
    Set up the database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-server" class="md-nav__link">
    Run the server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    Deploy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-the-plugin" class="md-nav__link">
    Setting up the plugin
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="self-deployment">Self deployment</h1>
<p>As explained in the <a href="/security-notice">important security notice</a>, sending messages through a service you do not control comes with inherent security risks. You can mitigate these risks by running your own server.</p>
<p>This guide explains how to deploy the code to your own server. Note that while this is doable, it does require knowledge of how to run your own server and some knowledge of Python. You will also have to learn how to set up Telegram/WhatsApp bot (which is not covered in this guide).</p>
<h2 id="what-you-will-need">What you will need</h2>
<h3 id="hardware">Hardware</h3>
<p>The server at <a href="https://loglink.it/">https://loglink.it</a> runs on a Debian VPS, however you should be able to run the server from any VPS or even a machine you host locally. The instructions below are based on a Linux distribution, but there's no reason that this shouldn't also work on a Mac or Windows machine.</p>
<div class="admonition note">
<p class="admonition-title">Found the internet?</p>
<p>The server doesn't work well without constant internet access, so running it on a laptop or other machine which isn't constantly connected is a bad idea.</p>
</div>
<p>The code is not demanding to run so it should run happily on a Raspberry Pi or a low spec VPS. If you are looking for a low cost VPS then I use <a href="https://hostworld.uk/">hostworld.uk</a> but have also had good experiences with <a href="https://www.digitalocean.com/solutions/vps-hosting">DigitalOcean</a>.</p>
<p>One important thing to note is that this will <strong>not</strong> deploy easily to service like Heroku. The database technology used is SQLite, which is robust and powerful but stores the data in a file. Services like Heroku use an <a href="https://devcenter.heroku.com/articles/sqlite3">"emphemeral file system"</a> which means that the files are deleted and reloaded from their source on a periodic basis. This means that your database will be wiped at least 24 hours, which is not a good experience. If you do want to deploy to Heroku then you will need to modify the code to use an external MySQL or Postgres database server.</p>
<h3 id="a-registered-domain">A registered domain</h3>
<p>If you plan to use Telegram then the Telegram bot will only function with a SSL certificate. The below guide talks you through how to get a free one, but this won't work if you're directing it to an IP address. You will need to purchase a web domain (any TLD will do) to direct this to.</p>
<h2 id="setting-up-the-server">Setting up the server</h2>
<p>This assumes that you have a functioning Linux server running with the following:</p>
<ul>
<li>an internet connection</li>
<li>Python 3.7+</li>
<li>Git</li>
</ul>
<p>If you don't have that already then <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04">this DigitalOcean guide</a> is a great place to start.</p>
<h3 id="clone-the-server-repo">Clone the server repo</h3>
<p>Clone the server repo to your local machine:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/hankhank10/loglink-server.git
</code></pre></div>
<h3 id="install-the-required-python-packages">Install the required Python packages</h3>
<p>Open the <code>loglink-server</code> directory and use pip to install the required packages:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
<h3 id="set-up-your-env-file">Set up your .env file</h3>
<p>Your server will rely on various "secrets" in order to communicate securely with both itself and the various services that it will use. The secrets used for this server are not committed to the git repo (since then they wouldn't be secret!) so you will need to create your own.</p>
<p>The secrets should be stored in a file called <code>.env</code> in the root of the server directory. There is a file in the repo called <code>.envtemplate</code> which outlines the required variables. Rename this to <code>.env</code> and populate the fields with your own secrets.</p>
<h4 id="database-required">Database (required)</h4>
<p>The first thing we need to do is set up a secret key to secure our database. This can be anything you like but should be a long random string:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">APP_SECRET_KEY</span><span class="o">=</span><span class="s1">&#39;alongr575243an45001domstring2that4nobodywouldguess3v3r&#39;</span>
</code></pre></div>
<h4 id="sentry-credentials-optional">Sentry credentials (optional)</h4>
<p>Sentry is a handy tool for finding errors in production. It is free to sign up for and if you do want to use it them you should insert the "dsn" for your Sentry project in the below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">SENTRY_DSN</span><span class="o">=</span><span class="s2">&quot;https://4j8hfj009fe449977ee8j6e6@o.ingest.sentry.io/0395819423409380200&quot;</span>
</code></pre></div>
<p>Sentry  it's also optional for this repo. If you don't want to use sentry then you can leave the field here as <code>None</code> and Sentry will be disabled.</p>
<h4 id="admin-credentials-required">Admin credentials (required)</h4>
<p>There is an admin dashboard made available at <code>/admin</code> which you can use to manage your server. You should set up a username and password for this dashboard by entering the following into your <code>.env</code> file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">ADMIN_USERNAME</span><span class="o">=</span><span class="s1">&#39;admin&#39;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">ADMIN_PASSWORD</span><span class="o">=</span><span class="s1">&#39;alongpasswordn0bodyknows&#39;</span>
</code></pre></div>
<p>If you want to send automated onboarding emails to new users (optional) you will also need to set SMTP details:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">EMAIL_SETTING_HOST</span><span class="o">=</span><span class="s2">&quot;smtp.yourdomain.com&quot;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">EMAIL_SETTING_PORT</span><span class="o">=</span><span class="mi">587</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">EMAIL_SETTING_USERNAME</span><span class="o">=</span><span class="s2">&quot;username&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">EMAIL_SETTING_PASSWORD</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
</code></pre></div>
<h4 id="telegram-credentials-required">Telegram credentials (required)</h4>
<p>You should create a new Telegram Bot <a href="https://core.telegram.org/bots/features#creating-a-new-bot">using the instructions here</a>.</p>
<p>You will be asked to create a name for the bot, which must end with "_bot".</p>
<div class="admonition danger">
<p class="admonition-title">A note on naming</p>
<p>Please do <em>not</em> include the name LogLink in your bot - your bot will be publicly available under this serarch term, and there is real potential for confusion if there are multiple bots with the same name.</p>
</div>
<p>The Botfather account will send you a token which you should enter here:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">TELEGRAM_BOT_NAME</span><span class="o">=</span><span class="s2">&quot;the_name_you_chose_for_your_bot&quot;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">TELEGRAM_TOKEN</span><span class="o">=</span><span class="s2">&quot;174329548:BBFjJaaBBG7EgCzABBgdfyGBYwX&quot;</span>
</code></pre></div>
<p>You should also choose a secret token of your own choice which Telegram will send to you when it sends you a message. This is to ensure that messages to your webhook are actually from Telegram:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">TELEGRAM_WEBHOOK_AUTH</span><span class="o">=</span><span class="s2">&quot;asecretpasswordthatonlyyouknow&quot;</span>
</code></pre></div>
<p>You now need to tell the bot the location of the webhook that it should send messages to. You do this by sending a HTTP POST request (using Postman or <a href="https://httpie.io/app">HTTPie</a>) with the following terms:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>https://api.telegram.org/bot{your_bot_token}/setwebhook
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    ?url={your_webhook_address}
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    &amp;secret_token={the_secret_token_of_your_choice}
</code></pre></div>
<p>In the above example, it would look like this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>https://api.telegram.org/bot174329548:BBFjJaaBBG7EgCzABBgdfyGBYwX/setwebhook?url=https://yourownapidomain.com/telegram/webhook/&amp;secret_token=asecretpasswordthatonlyyouknow
</code></pre></div></p>
<p>You should get a 200 response like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Webhook was set&quot;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="set-up-the-database">Set up the database</h3>
<p>There is a script provided that will set up the database for you. You can run it with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>bash<span class="w"> </span>db_reset
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Careful!</p>
<p>Running <code>bash db_reset</code> will delete all the data in your database. If you have any data in there that you want to keep then you should back it up first.</p>
</div>
<h3 id="run-the-server">Run the server</h3>
<p>Set debugging mode for the server to on by changing the bottom of <code>app.py</code> to:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Run the app</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5011</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<p>Run the server in test mode with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>python3<span class="w"> </span>app.py
</code></pre></div>
<h3 id="deploy">Deploy</h3>
<p>Once you are happy your server is functioning as intended you can deploy it to a production server.</p>
<p>A really good guide to doing this is at <a href="https://www.digitalocean.com/community/tutorials/how-to-serve-flask-applications-with-gunicorn-and-nginx-on-ubuntu-22-04">this tutorial in DigitalOcean</a> although the same method will work regardless of where you are deploying it.</p>
<p>As mentioned above, Telegram won't work without a SSL certificate so make sure you also follow the certbot instructions in the tutorial.</p>
<p>Finally, before you deploy do remember to switch <code>debug=False</code> in your app.py file.</p>
<h2 id="setting-up-the-plugin">Setting up the plugin</h2>
<p>The plugin defaults to using the server at <code>https://api.loglink.it</code> but you can change this to your server in the plugin settings.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "content.code.copy"], "search": "../assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf534bf.min.js"></script>
      
    
  </body>
</html>